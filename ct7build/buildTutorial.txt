Build dependencies:

python:
yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel
wget https://www.python.org/ftp/python/2.7.5/Python-2.7.5.tar.xz
./configure --enable-shared --enable-unicode=ucs4 --prefix /data/share/usd/dependency/python-2.7.5
make
make install

pip:
wget https://bootstrap.pypa.io/get-pip.py
python ~/Downloads/get-pip.py

jinja2
pip install jinja2

pyopengl:
pip install pyopengl
# there is a bug in pyopengl, need to upgrade to 3.1.0
# http://lists.freebsd.org/pipermail/freebsd-python/2015-December/009464.html
pip install pyopengl --upgrade
pip install pyopengl-accelerate --upgrade



flex:
wget http://heanet.dl.sourceforge.net/project/flex/flex-2.5.39.tar.gz

bison:
wget http://ftp.gnu.org/gnu/bison/bison-2.4.1.tar.gz


double-conversion:
(using 1.1.5 since 1.1.1 reports error during building)
cmake . -DBUILD_SHARED_LIBS=ON -DCMAKE_INSTALL_PREFIX=/data/share/usd/dependency/double-conversion-1.1.5
make
make install


tbb:
./configure --prefix=installDir
make
make install

glew:
sudo yum install libXmu-devel libXi-devel libGL-devel dos2unix git wget
make all
make install GLEW_DEST=installDir

boost:
./bootstrap.sh --prefix=installDir
./b2

ilmbase:
./configure --prefix=installDir
make
make install

openexr:
#setting the the environment variable PKG_CONFIG_PATH to $SANDBOX/lib/pkgconfig will let OpenEXR get the package info regarding zlib and ilmbase.

#    ./configure â€“prefix $SANDBOX LDFLAGS=-L$SANDBOX/lib CPPFLAGS=-I$SANDBOX/include

sudo ln -s /data/share/usd/dependency/ilmbase-2.2.0/lib/pkgconfig /usr/bin/pkg-config
./configure --prefix /data/share/usd/dependency/openexr-2.2.0  --disable-ilmbasetest CPPFLAGS=-I/data/share/usd/dependency/ilmbase-2.2.0/include/OpenEXR LDFLAGS=-L/data/share/usd/dependency/ilmbase-2.2.0/lib

openImageIO:
sudo yum install libtiff libpng libjpeg
wget https://codeload.github.com/OpenImageIO/oiio/tar.gz/Release-1.5.11
make OPENEXR_HOME=/data/share/usd/dependency/openexr-2.2.0 ILMBASE_HOME=/data/share/usd/dependency/ilmbase-2.2.0 BOOST_HOME=/data/share/usd/dependency/boost_1_55_0

ptex:
wget https://codeload.github.com/wdas/ptex/zip/v2.0.30
# make will install it to ../../install directory.
make
cp ../install installDir

qt:
sudo yum install openssl-devel libXext-devel libXt-devel
wget http://qt.mirrors.tds.net/qt/archive/qt/4.8/4.8.1/qt-everywhere-opensource-src-4.8.1.tar.gz
./configure --prefix=installDir -prefix-install -openssl -confirm-license
gmake
gmake install



PySide:
reference: https://wiki.qt.io/Building_PySide_on_Linux

sip:
reference: file:///data/share/usd/dependency/tools/sip-4.18.1/doc/html/installation.html#building

wget http://heanet.dl.sourceforge.net/project/pyqt/sip/sip-4.18.1/sip-4.18.1.tar.gz
python configure.py --configuration ~/workspace/usdbuild/sipConfigure.txt
make
make install


Shiboken:
wget https://codeload.github.com/PySide/Shiboken/tar.gz/1.2.2
source /data/share/usd/dependency/pysideBuild.sh
mkdir build
cd build
runcmake ..
make
make install

PySide:
wget https://codeload.github.com/PySide/PySide/tar.gz/1.2.2
source /data/share/usd/dependency/pysideBuild.sh
mkdir build
cd build
runcmake ..
make
make install

PySide-tools:
wget https://codeload.github.com/PySide/Tools/tar.gz/0.2.15
source ~/workspace/usdbuild/pysideBuild.sh
mkdir build
cd build
runcmake ..
make
make install


OpenSubdiv:
glfw:
wget https://github.com/glfw/glfw/releases/download/3.2.1/glfw-3.2.1.zip
cmake . -DCMAKE_INSTALL_PREFIX=/data/share/usd/dependency/glfw-3.1.1
make
make install

OpenSubdiv:
mkdir build
cd build
cmake -D NO_MAYA=1 -D NO_PTEX=1 -D NO_DOC=1 -D NO_OMP=1 -D NO_TBB=1 -D NO_CUDA=1 -D NO_OPENCL=1 -D NO_CLEW=1 -D GLFW_LOCATION="/data/share/usd/dependency/glfw-3.1.1" -D GLEW_LOCATION=/data/share/usd/dependency/tools/glew-1.10.0 -DCMAKE_INSTALL_PREFIX=/data/share/usd/dependency/OpenSubdiv-3_0_5 ..
make


USD:
copy OpenSubdiv include directory to build/usd/include directory and rename it to opensubdiv3
cp -r /data/share/usd/dependency/OpenSubdiv-3_0_5/include/opensubdiv .
mv OpenSubdiv-3_0_5 opensubdiv3

edit /data/share/usd/dependency/oiio-Release-1.5.11/include/OpenImageIO/imagebufalgo.h to set correct OpenEXR/ImathMatrix.h path

mkdir build
cd build
source ~/workspace/usdbuild/buildUSD.sh
make -j 8 install
